/*!
 * StaggerType.js
 * Copyright Â© 2014 Wanja Stier
 *
 * https://github.com/WanjaStier/staggertype
 *
 * Released under the terms of the MIT license: http://wanja.mit-license.org/
 */
var StaggerType=function(){"use strict";function n(n,t){b.el=n,a.call(this,t)}function t(n){for(var t in n)n.hasOwnProperty(t)&&(b.options[t]=n[t])}function e(){setTimeout(function(){i(),o(),c>=1?(window.cancelAnimationFrame(w),b.emit(b.Events.FADE_IN_COMPLETE)):w=window.requestAnimationFrame(e)},1e3/b.options.fps)}function i(){if(c=p/f,m=s(p,0,u.length,f),p++,b.options.scrambleText){l="",M=u.substr(0,m),d=u.substr(m);for(var n=d.length,t=0;n>t;t++)l+=b.options.characters.substr(Math.floor(Math.random()*b.options.characters.length),1);O=M+l}}function o(){b.el.innerHTML=b.options.scrambleText?O:u.substr(0,Math.ceil(m))}function a(n){u=this.el.innerHTML,this.el.removeChild(this.el.firstChild),this.el.style.visibility="visible",t(n),b.options.autoStart&&b.show()}function r(){return window.performance.now?window.performance.now():Date.now()}var u,s,c,f,w,h=null,p=0,m=0,l="",M="",d="",O="",I=[],b=n.prototype={constructor:n,el:null,options:{timeBased:!0,autoStart:!0,fps:60,duration:1,ease:"easeOutQuart",leadCharacter:"|",uppercase:!1,scrambleText:!0,characters:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!?"},Events:{FADE_IN_COMPLETE:"StaggerType::fadeInComplete",FADE_OUT_COMPLETE:"StaggerType::fadeOutComplete"},show:function(){h=r(),s=n.Easing[b.options.ease],f=b.options.duration*b.options.fps,e(0)},hide:function(){},dispose:function(){pause(),I=[],w=null},pause:function(){w&&window.cancelAnimationFrame(w)},resume:function(){w=window.requestAnimationFrame(e)},subscribe:function(n,t){I[n]||(I[n]=[]),I[n].push(t)},unsubscribe:function(n,t){if(I[n]){var e=I[n].indexOf(t);~e&&I[n].splice(e,1)}},emit:function(n,t){if(I[n])for(var e=I[n].length-1;e>=0;e--)I[n][e](t)}};return n}();StaggerType.Easing=function(){"use strict";return{linearEase:function(n,t,e,i){return e*n/i+t},easeInQuad:function(n,t,e,i){return e*(n/=i)*n+t},easeOutQuad:function(n,t,e,i){return-e*(n/=i)*(n-2)+t},easeInOutQuad:function(n,t,e,i){return(n/=i/2)<1?e/2*n*n+t:-e/2*(--n*(n-2)-1)+t},easeInCubic:function(n,t,e,i){return e*Math.pow(n/i,3)+t},easeOutCubic:function(n,t,e,i){return e*(Math.pow(n/i-1,3)+1)+t},easeInOutCubic:function(n,t,e,i){return(n/=i/2)<1?e/2*Math.pow(n,3)+t:e/2*(Math.pow(n-2,3)+2)+t},easeInQuart:function(n,t,e,i){return e*Math.pow(n/i,4)+t},easeOutQuart:function(n,t,e,i){return-e*(Math.pow(n/i-1,4)-1)+t},easeInOutQuart:function(n,t,e,i){return(n/=i/2)<1?e/2*Math.pow(n,4)+t:-e/2*(Math.pow(n-2,4)-2)+t},easeInQuint:function(n,t,e,i){return e*Math.pow(n/i,5)+t},easeOutQuint:function(n,t,e,i){return e*(Math.pow(n/i-1,5)+1)+t},easeInOutQuint:function(n,t,e,i){return(n/=i/2)<1?e/2*Math.pow(n,5)+t:e/2*(Math.pow(n-2,5)+2)+t},easeInSine:function(n,t,e,i){return e*(1-Math.cos(n/i*(Math.PI/2)))+t},easeOutSine:function(n,t,e,i){return e*Math.sin(n/i*(Math.PI/2))+t},easeInOutSine:function(n,t,e,i){return e/2*(1-Math.cos(Math.PI*n/i))+t},easeInExpo:function(n,t,e,i){return e*Math.pow(2,10*(n/i-1))+t},easeOutExpo:function(n,t,e,i){return e*(-Math.pow(2,-10*n/i)+1)+t},easeInOutExpo:function(n,t,e,i){return(n/=i/2)<1?e/2*Math.pow(2,10*(n-1))+t:e/2*(-Math.pow(2,-10*--n)+2)+t},easeInCirc:function(n,t,e,i){return e*(1-Math.sqrt(1-(n/=i)*n))+t},easeOutCirc:function(n,t,e,i){return e*Math.sqrt(1-(n=n/i-1)*n)+t},easeInOutCirc:function(n,t,e,i){return(n/=i/2)<1?e/2*(1-Math.sqrt(1-n*n))+t:e/2*(Math.sqrt(1-(n-=2)*n)+1)+t}}}(),function(){for(var n=0,t=["webkit","moz"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-n)),o=window.setTimeout(function(){t(e+i)},i);return n=e+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})}();